<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>PB138 Inventory Management System</title><link rel="stylesheet" type="text/css" href="html.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1"></a>PB138 Inventory Management System</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Martin</span> <span class="surname">Schvarcbacher</span></h3></div></div><div><p class="pubdate"></p></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#d0e11">1. My responsibilities</a></span></dt><dt><span class="section"><a href="#d0e16">2. SOAP API</a></span></dt><dt><span class="section"><a href="#d0e21">3. Data Access Layer</a></span></dt><dt><span class="section"><a href="#d0e26">4. Email alerting system</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e11"></a>1.&nbsp;My responsibilities</h2></div></div></div><p>My job was to implement the data access layer, SOAP API and email alert sending. Additionally I was the team leader.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e16"></a>2.&nbsp;SOAP API</h2></div></div></div><p>SOAP API was implemented using Apache CXF and JAX-WS. CXF was primarily responsible for generating the WSDL file from the SOAP JavaBean. This Java first approach allowed faster development, since there was no need to first generate a WSDL and create Java classes and objects based on that. In addition, any change in WSDL would necessitate heavy refactoring to match the new WSDL. CXF also took care of data marshaling and un-marshaling, so it was possible to transfer all DTO via SOAP without any new configuration files. One problem was getting the new Java 8 datatypes to work, such as java.time.Period. The solution was to find a 3rd party XML data adapter, which is capable of data marshaling and un-marshaling these new types. Without this adapter, CXF would silently drop the unsupported attributes, which took time to find the cause of. The SOAP implementation itself is relatively simple and passes most of the requests to Mark&eacute;ta&#8217;s and Jan&#8217;s Services. One design decision was to send the results of OverviewResult as XML and use XSLT on the front-end to parse relevant data into a user viewable table.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e21"></a>3.&nbsp;Data Access Layer</h2></div></div></div><p>The data access layer was implemented using primarily Hibernate 5. One design pattern was to use a Filter object with configurable parameters and passing this filter to a find method. This removed the need to have methods such as findById / findBySaleDate etc, as all of this and relevant combinations could be achieved by configuring the filter object. One of the new features was using the Hibernate meta-model and annotation processing to achieve zero SQL required for data filtering. The meta-model provides a type safe model of a Persistence Entity and this allows creating type-safe filtering queries. This query is constructed by adding predicates from a user selected filter. One problem was getting the Annotations to work. Since they have to be created from the source code and are not checked into source control, this required configuring the IDE to support the generated annotations. Overall, I consider this approach better than manually creating an SQL query by appending the required conditions based on a filter.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e26"></a>4.&nbsp;Email alerting system</h2></div></div></div><p>The email alerting system runs every 24 hours to check the status of all items in the database. If their count drops below a user defined per item threshold, the system will send the user an email containing all of the stock that is running low. The email configuration uses an XML file and XPATH for data extraction.</p></div></div></body></html>